{"mappings":"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","sources":["node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@swc/helpers/src/_class_private_field_init.mjs","src/js/searchApi.js","src/js/create-ganres.js","src/js/btn-search.js","src/js/modal-film.js","src/js/create-gallery.js","src/js/modal-libr.js","src/js/gallery-page.js","src/js/get-localStorage.js","src/js/search.js"],"sourcesContent":["export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","export default class SearchApi {\n  #BASE_URL = 'https://api.themoviedb.org/3/';\n  #API_KEY = '?api_key=7a4cd4317772102a9b88ef6a54b71590';\n\n  constructor() {\n    this.page = 1;\n    this.BASE_URL = 'https://api.themoviedb.org/3/';\n    this.API_KEY = '?api_key=7a4cd4317772102a9b88ef6a54b71590';\n  }\n\n  async getMovies(page = this.page) {\n    const trending = 'trending';\n    const mediaType = 'movie';\n    const timeWindow = 'day';\n\n    try {\n      return await fetch(\n        `${this.BASE_URL}${trending}/${mediaType}/${timeWindow}${this.API_KEY}&page=${page}`\n      ).then(res => res.json());\n    } catch (arr) {\n      console.log(arr);\n    }\n  }\n\n  getSearchMovie(searchFilm, page) {\n    try {\n      return fetch(\n        `${this.BASE_URL}search/movie${this.API_KEY}&query=${searchFilm}&page=${page}`\n      ).then(res => res.json());\n    } catch (arr) {\n      console.log(arr);\n    }\n  }\n\n  async getGanres() {\n    const genre = 'genre';\n    const option = 'movie';\n    const list = 'list';\n\n    try {\n      return await fetch(\n        `${this.BASE_URL}${genre}/${option}/${list}${this.API_KEY}`\n      ).then(res => res.json());\n    } catch (arr) {\n      console.log(arr);\n    }\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\n","import SearchApi from './searchApi';\n// import { createGallery } from './create-gallery';\n\nconst searchApi = new SearchApi();\n\nlet genresArr;\n\nsearchApi.getGanres().then(data => {\n  genresArr = data.genres;\n});\n\nexport default function createGanres(genre_ids) {\n  let curentGenres = [];\n\n  genre_ids.forEach(element => {\n    let obj = genresArr.find(el => el.id === element);\n    curentGenres.push(obj);\n  });\n\n  const genresNames = curentGenres.map(el => el.name);\n  let newGenresNames = [];\n\n  genresNames.map(elem => {\n    if (elem.length > 10) {\n      elem = elem.slice(0, 8) + '...';\n    }\n    elem;\n    newGenresNames.push(elem);\n  });\n\n  return newGenresNames;\n}\n","const addToWatch = document.querySelector('.addToWatch');\nconst addToQueue = document.querySelector('.addToQueue');\n\nlet ADD_WATCH = 'addToWatch';\nlet ADD_TO_QUEUE = 'addToQueue';\n//\nlet libryaryWatched = [];\nlet libruaryQueue = [];\n\n//\nlet storageJsonWatch = [];\nstorageJsonWatch.push(JSON.parse(localStorage.getItem(ADD_WATCH)));\n\nlet storageJsonQueue = [];\n\nexport default function btnSearch(elem) {\n  elementFilmModal = elem;\n\n  storageJsonWatch.map(storageWatch => {\n    storageWatch.map(storElem => {\n      if (storElem.title === elementFilmModal.title) {\n        addToWatch.textContent = 'Added';\n      } else {\n        addToWatch.textContent = 'add to Watched';\n      }\n    });\n  });\n\n  addToWatch.addEventListener('click', handleraddToWatch);\n  addToQueue.addEventListener('click', handleraddToQueue);\n\n  ///\n  function handleraddToWatch(evt) {\n    if (localStorage.length === 0) {\n      libryaryWatched.push(elementFilmModal);\n      localStorage.setItem(ADD_WATCH, JSON.stringify(libryaryWatched));\n    } else if (\n      (localStorage.length !== 0) &\n      !libryaryWatched.includes(elementFilmModal)\n    ) {\n      libryaryWatched.push(elementFilmModal);\n      localStorage.setItem(ADD_WATCH, JSON.stringify(libryaryWatched));\n    }\n\n    // if (libryaryWatched.includes(elementFilmModal)) {\n    //   addToWatch.textContent = 'Added ';\n    // } else {\n    //   addToWatch.textContent = 'add to Watched';\n    // }\n\n    //     return; addToWatch.textContent = 'Added';\n    //   } else if (localStorage.length !== 0) {\n    //     libryaryWatched.push(JSON.parse(localStorage.getItem(ADD_WATCH)));\n    //     libryaryWatched.push(elementFilmModal);\n    //     localStorage.setItem(ADD_WATCH, JSON.stringify(libryaryWatched));\n    //     return;\n    //   } else if (!libryaryWatched.includes(elementFilmModal)) {\n    //     libryaryWatched.push(elementFilmModal);\n    //     localStorage.setItem(ADD_WATCH, JSON.stringify(libryaryWatched));\n    //     return;\n    //   } else {\n    //     return;\n    // }\n  }\n  ///\n  function handleraddToQueue(evt) {\n    if (libruaryQueue.includes(elementFilmModal)) {\n      return;\n    } else {\n      libruaryQueue.push(elementFilmModal);\n      localStorage.setItem(ADD_TO_QUEUE, JSON.stringify(libruaryQueue));\n    }\n  }\n}\n","// import SearchApi from './searchApi';\nimport createGanres from './create-ganres';\nimport btnSearch from './btn-search';\n\nconst indexGallery = document.querySelector('.gallery-container');\nconst backdropModal = document.querySelector('.backdrop');\nconst modal = document.querySelector('[data-modal]');\nconst btnClose = document.querySelector('[data-modal-close]');\nconst modalCont = document.querySelector('.modal-block');\n//\n\nexport default function modalFilm({ results }) {\n  const filmMass = [...results];\n  btnClose.addEventListener('click', handleBtnClose);\n  function handleBtnClose(evt) {\n    if (evt.currentTarget === evt.target) {\n      modal.classList.add('is-hidden');\n    }\n  }\n\n  indexGallery.addEventListener('click', handleClick);\n  function handleClick(evt) {\n    modal.classList.remove('is-hidden');\n\n    filmMass.map(elem => {\n      if (elem.original_title === evt.target.alt) {\n        btnSearch(elem);\n\n        let ganresTitle = createGanres(elem.genre_ids);\n        if (ganresTitle.length > 2) {\n          ganresTitle = ganresTitle.slice(0, 2).join(', ') + ', Other';\n        } else {\n          ganresTitle = ganresTitle.join(', ');\n        }\n\n        let baseImgFilmModal = `https://image.tmdb.org/t/p/w500${elem.poster_path}`;\n\n        const markupModal = `\n      <div class=\"modal-films\">\n        <img\n          class=\"modal-pictures\"\n          src=\"${baseImgFilmModal}\"\n          alt=\"${elem.original_title}\"\n          width=\"375px\"\n        />\n      </div>\n      <div class=\"modal-info\">\n        <h2 class=\"modal-title\">${elem.original_title}</h2>\n        <table class=\"modal-info__film\">\n          <tr>\n            <td class=\"modal-info__left\">Vote / Votes</td>\n            <td class=\"modal-info__right\">\n              <span class=\"modal-span\">${elem.vote_average}</span>/${elem.vote_count}\n            </td>\n          </tr>\n          <tr>\n            <td class=\"modal-info__left\">Popularity</td>\n            <td class=\"modal-info__right\">${elem.popularity}</td>\n          </tr>\n          <tr>\n            <td class=\"modal-info__left\">Original Title</td>\n            <td class=\"modal-info__right\">${elem.original_title}</td>\n          </tr>\n          <tr>\n            <td class=\"modal-info__left\">Genre</td>\n            <td class=\"modal-info__right\">${ganresTitle}</td>\n          </tr>\n        </table>\n\n        <div class=\"modal-bottom\">\n          <h2 class=\"modal-bottom__title\">About</h2>\n          <p class=\"modal-bottom__text\">\n            ${elem.overview}\n          </p>\n        </div>\n        \n      </div>\n    `;\n        modalCont.innerHTML = '';\n\n        return modalCont.insertAdjacentHTML('afterbegin', markupModal);\n      }\n    });\n  }\n\n  backdropModal.addEventListener('click', handleCloseClick);\n  function handleCloseClick(evt) {\n    if (evt.currentTarget === evt.target) {\n      modal.classList.add('is-hidden');\n    }\n  }\n  window.addEventListener('keydown', onEscape);\n\n  function onEscape(evt) {\n    if (evt.code === 'Escape') {\n      modal.classList.add('is-hidden');\n    }\n  }\n}\n","import SearchApi from './searchApi';\nimport createGanres from './create-ganres';\nimport modalFilm from './modal-film';\n\nconst searchApi = new SearchApi();\nconst indexGallery = document.querySelector('.gallery-container');\n\nexport function createGallery({ results }) {\n  indexGallery.innerHTML = '';\n  modalFilm({ results });\n  const markup = results\n    .map(({ poster_path, title, release_date, vote_average, genre_ids }) => {\n      let emptyImg = 'https://i.ibb.co/JyBCdzw/sinema-empty.jpg';\n      let baseImg = `https://image.tmdb.org/t/p/w500${poster_path}`;\n      let baseTitle = `${title}`;\n      const baseDate = `${release_date.slice(0, 4)}`;\n      let ganresTitle = createGanres(genre_ids);\n\n      if (!poster_path) {\n        baseImg = emptyImg;\n      }\n      if (baseTitle.length > 25) {\n        baseTitle = baseTitle.slice(0, 30) + '...';\n      } else {\n        baseTitle;\n      }\n      if (ganresTitle.length > 2) {\n        ganresTitle = ganresTitle.slice(0, 2).join(', ') + ', Other';\n      } else {\n        ganresTitle = ganresTitle.join(', ');\n      }\n\n      return `<li class=\"gallery-box\">\n    <div class=\"gallery-card\">\n      <img\n        class=\"gallery-img\"\n        src=\"${baseImg}\"\n        alt=\"${baseTitle}\"\n        loading=\"lazy\"\n      />\n    </div>\n    <h1 class=\"gallery-title\">${baseTitle}</h1>\n    <div class=\"gallery-info\">\n      <p class=\"gallery-ganre\">${ganresTitle}</p>\n      <p class=\"gallery-year\">${baseDate}</p>\n      <p class=\"gallery-average\">${vote_average}</p>\n    </div>\n  </li>\n      `;\n    })\n    .join('');\n\n  indexGallery.insertAdjacentHTML('beforeend', markup);\n}\n","import createGanres from './create-ganres';\nimport btnSearch from './btn-search';\n\nconst indexGallery = document.querySelector('.libruary-conteiner');\nconst backdropModals = document.querySelector('.backdrop');\nconst modal = document.querySelector('[data-modal]');\nconst btnCloses = document.querySelector('[data-modal-close]');\nconst modalCont = document.querySelector('.modal-block');\n\nexport default function modalLibr(filmArr) {\n  const filmMass = [...filmArr];\n\n  btnCloses.addEventListener('click', handleBtnCloses);\n  function handleBtnCloses(evt) {\n    if (evt.currentTarget === evt.target) {\n      modal.classList.add('is-hidden');\n    }\n  }\n\n  indexGallery.addEventListener('click', handleClickLibr);\n  function handleClickLibr(evt) {\n    modal.classList.remove('is-hidden');\n\n    filmMass.map(elem => {\n      if (elem.original_title === evt.target.alt) {\n        btnSearch(elem);\n\n        let ganresTitle = createGanres(elem.genre_ids);\n        if (ganresTitle.length > 2) {\n          ganresTitle = ganresTitle.slice(0, 2).join(', ') + ', Other';\n        } else {\n          ganresTitle = ganresTitle.join(', ');\n        }\n        let baseImgFilmModal = `https://image.tmdb.org/t/p/w500${elem.poster_path}`;\n\n        const markupModal = `\n      <div class=\"modal-films\">\n        <img\n          class=\"modal-pictures\"\n          src=\"${baseImgFilmModal}\"\n          alt=\"${elem.original_title}\"\n          width=\"375px\"\n        />\n      </div>\n      <div class=\"modal-info\">\n        <h2 class=\"modal-title\">${elem.original_title}</h2>\n        <table class=\"modal-info__film\">\n          <tr>\n            <td class=\"modal-info__left\">Vote / Votes</td>\n            <td class=\"modal-info__right\">\n              <span class=\"modal-span\">${elem.vote_average}</span>/${elem.vote_count}\n            </td>\n          </tr>\n          <tr>\n            <td class=\"modal-info__left\">Popularity</td>\n            <td class=\"modal-info__right\">${elem.popularity}</td>\n          </tr>\n          <tr>\n            <td class=\"modal-info__left\">Original Title</td>\n            <td class=\"modal-info__right\">${elem.original_title}</td>\n          </tr>\n          <tr>\n            <td class=\"modal-info__left\">Genre</td>\n            <td class=\"modal-info__right\">${ganresTitle}</td>\n          </tr>\n        </table>\n\n        <div class=\"modal-bottom\">\n          <h2 class=\"modal-bottom__title\">About</h2>\n          <p class=\"modal-bottom__text\">\n            ${elem.overview}\n          </p>\n        </div>\n        \n      </div>\n    `;\n        modalCont.innerHTML = '';\n\n        return modalCont.insertAdjacentHTML('afterbegin', markupModal);\n      }\n    });\n  }\n\n  backdropModals.addEventListener('click', handleCloseClick);\n  function handleCloseClick(evt) {\n    if (evt.currentTarget === evt.target) {\n      modal.classList.add('is-hidden');\n    }\n  }\n  window.addEventListener('keydown', onEscape);\n\n  function onEscape(evt) {\n    if (evt.code === 'Escape') {\n      modal.classList.add('is-hidden');\n    }\n  }\n}\n","import modalLibr from './modal-libr';\nconst galleryConteiner = document.querySelector('.libruary-conteiner');\n\nexport default function galleryPage(filmArr) {\n  galleryConteiner.innerHTML = '';\n\n  modalLibr(filmArr);\n  const markupStorage = filmArr\n    .map(({ poster_path, title, release_date, vote_average, genre_ids }) => {\n      let emptyImg = 'https://i.ibb.co/JyBCdzw/sinema-empty.jpg';\n      let baseImg = `https://image.tmdb.org/t/p/w500${poster_path}`;\n      let baseTitle = `${title}`;\n      const baseDate = `${release_date.slice(0, 4)}`;\n      //   let ganresTitle = createGanresLib(genre_ids);\n      let ganresTitle = genre_ids;\n\n      if (!poster_path) {\n        baseImg = emptyImg;\n      }\n      if (baseTitle.length > 25) {\n        baseTitle = baseTitle.slice(0, 30) + '...';\n      } else {\n        baseTitle;\n      }\n      //   if (ganresTitle.length > 2) {\n      //     ganresTitle = ganresTitle.slice(0, 2).join(', ') + ', Other';\n      //   } else {\n      //     ganresTitle = ganresTitle.join(', ');\n      //   }\n      return `<li class=\"gallery-box\">\n      <div class=\"gallery-card\">\n        <img\n         class=\"gallery-img\"\n          src=\"${baseImg}\"\n         alt=\"${baseTitle}\"\n          loading=\"lazy\"\n       />\n     </div>\n     <h1 class=\"gallery-title\">${baseTitle}</h1>\n     <div class=\"gallery-info\">\n        <p class=\"gallery-ganre\">${ganresTitle}</p>\n       <p class=\"gallery-year\">${baseDate}</p>\n        <p class=\"gallery-average\">${vote_average}</p>\n      </div>\n    </li>\n        `;\n    })\n    .join('');\n\n  galleryConteiner.insertAdjacentHTML('beforeend', markupStorage);\n}\n\n/////\n","import galleryPage from './gallery-page';\n\nlet ADD_WATCH = 'addToWatch';\nlet ADD_TO_QUEUE = 'addToQueue';\n\nexport default function getLocalStorage() {\n  let storageJsonWatch = [];\n  storageJsonWatch = JSON.parse(localStorage.getItem(ADD_WATCH));\n  galleryPage(storageJsonWatch);\n\n  const btnWatched = document.querySelector('.btn-Watched');\n  btnWatched.classList.add('active');\n  btnWatched.addEventListener('click', handlerBtnWatched);\n  function handlerBtnWatched(evt) {\n    storageJsonWatch = JSON.parse(localStorage.getItem(ADD_WATCH));\n    galleryPage(storageJsonWatch);\n    btnWatched.setAttribute('disabled', true);\n    btnQueue.removeAttribute('disabled');\n    btnWatched.classList.add('active');\n    btnQueue.classList.remove('active');\n  }\n\n  const btnQueue = document.querySelector('.btn-Queue');\n  btnQueue.addEventListener('click', handlerBtnQueue);\n  function handlerBtnQueue(evt) {\n    storageJsonQueue = JSON.parse(localStorage.getItem(ADD_TO_QUEUE));\n    galleryPage(storageJsonQueue);\n    btnQueue.setAttribute('disabled', true);\n    btnWatched.removeAttribute('disabled');\n    btnWatched.classList.remove('active');\n    btnQueue.classList.add('active');\n  }\n}\n","import SearchApi from './searchApi';\nimport { createGallery } from './create-gallery';\nimport getLocalStorage from './get-localStorage';\n//\nimport galleryPage from './gallery-page';\n\nconst form = document.querySelector('.header__form-search');\nconst indexGallery = document.querySelector('.gallery-container');\n\nconst btnHome = document.querySelector('.btn-home');\nconst btnLibryary = document.querySelector('.btn-libryary');\n// const btnLbt = document.querySelector('.btn-lib');\n\nif (btnHome.classList.contains('current')) {\n  form.addEventListener('submit', handleSubmit);\n\n  //\n  const paginationConteiner = document.querySelector('.pagination-container');\n\n  let searchFilm = '';\n  let page = 1;\n\n  // form.addEventListener('submit', handleSubmit);\n\n  const anyText = document.querySelector('.text-empty');\n  anyText.classList.add('hiden');\n  anyText.textContent =\n    'Search result not successful. Enter the correct movie name...';\n  const searchApi = new SearchApi();\n\n  startPage();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const {\n      elements: { search },\n    } = event.currentTarget;\n    searchFilm = search.value;\n\n    if (searchFilm === '') {\n      anyText.classList.remove('hiden');\n      return;\n    } else {\n      anyText.classList.add('hiden');\n    }\n\n    createPage();\n  }\n\n  function createPage() {\n    searchApi.getSearchMovie(searchFilm, page).then(data => {\n      createGallery(data);\n\n      page += 1;\n    });\n  }\n\n  function startPage() {\n    searchFilm = 'red';\n    searchApi.getSearchMovie(searchFilm, page).then(data => {\n      createGallery(data);\n    });\n  }\n} else {\n  getLocalStorage();\n}\n\n//\n//\n\n// if (btnLibryary.classList.contains('current')) {\n//   const btnWatched = document.querySelector('.btn-Watched');\n//   btnWatched.classList.add('active');\n//   getLocalStorage();\n//   console.log(123);\n// }\n\n// const arrowLeft = document.querySelector('.arrow-left');\n// arrowLeft.addEventListener('click', handlerLeftClick);\n// function handlerLeftClick(evt) {\n//   if (evt.target.outerText === '←') {\n//     page = page - 1;\n\n//     // if (data.page === 1) {\n//     //   page = data.page - 1;\n//     // }\n\n//     createPage();\n//   }\n// }\n\n// function datapage(rex) {\n//   //page: 7, results: Array(20), total_pages: 141\n//   // totalPages = data.total_pages;\n//   // console.log(dataPage);\n// }\n\n// console.log(evt);\n// export default function pagination(data) {\n//   console.log(data);\n//   let page;\n\n//   let rightArrow = data.page + 1;\n\n//   let btnFirstPages = data.page;\n//   let btnSecondPages = data.page + 1;\n//   let btnTherthPages = data.page + 2;\n//   let btnFourPages = data.page + 3;\n//   let btnTotalPages = data.total_pages;\n\n// const arrowLeft = document.querySelector('.left');\n// arrowLeft.addEventListener('click', handlerLeft);\n\n// function handlerLeft(evt) {\n//   if (evt.target.outerText === '←') {\n//     page = page - 1;\n\n//     // if (data.page === 1) {\n//     //   page = data.page - 1;\n//     // }\n\n//     createPage();\n//   }\n// }\n// }\n\n// export default function pagination() {\n//   searchApi.getSearchMovie(searchFilm, page).then(data => {\n//     page += 1;\n//     functionPage(data);\n//   });\n// }\n// function functionPage(data) {\n//   console.log(data);\n// }\n// function pagination(data) {\n//\n\n//\n//   function handlerLeft(evt) {\n//     if (evt.target.outerText === '←') {\n//       page = page - 1;\n\n//       // if (data.page === 1) {\n//       //   page = data.page - 1;\n//       // }\n//     }\n//   }\n// }\n"],"names":["$3b30310a11d769ec$export$2e2bcd8739ae039","obj","privateCollection","has","TypeError","$a33675d45e16a910$export$2e2bcd8739ae039","privateMap","value","set","$103c1df01808e877$var$_BASE_URL","WeakMap","$103c1df01808e877$var$_API_KEY","$103c1df01808e877$export$2e2bcd8739ae039","async","page","this","fetch","BASE_URL","API_KEY","then","res","json","arr","console","log","getSearchMovie","searchFilm","resetPage","constructor","$83405f68e01ab306$var$genresArr","$83405f68e01ab306$export$2e2bcd8739ae039","genre_ids","curentGenres","forEach","element","find","el","id","push","genresNames","map","name","newGenresNames","elem","length","slice","getGanres","data","genres","$7bd99bc4ac098b6a$var$addToWatch","document","querySelector","$7bd99bc4ac098b6a$var$addToQueue","$7bd99bc4ac098b6a$var$ADD_WATCH","$7bd99bc4ac098b6a$var$libryaryWatched","$7bd99bc4ac098b6a$var$libruaryQueue","$7bd99bc4ac098b6a$var$storageJsonWatch","JSON","parse","localStorage","getItem","$7bd99bc4ac098b6a$export$2e2bcd8739ae039","elementFilmModal","storageWatch","storElem","title","textContent","addEventListener","evt","includes","setItem","stringify","$b89ac968f8ae7162$var$indexGallery","$b89ac968f8ae7162$var$backdropModal","$b89ac968f8ae7162$var$modal","$b89ac968f8ae7162$var$btnClose","$b89ac968f8ae7162$var$modalCont","$b89ac968f8ae7162$export$2e2bcd8739ae039","results","filmMass","currentTarget","target","classList","add","remove","original_title","alt","ganresTitle","join","markupModal","poster_path","vote_average","vote_count","popularity","overview","innerHTML","insertAdjacentHTML","window","code","$745a349cc24e0bad$var$indexGallery","$745a349cc24e0bad$export$dac8b9bf675ebb55","markup","release_date","baseImg","baseTitle","baseDate","$ca787626673c6c13$var$indexGallery","$ca787626673c6c13$var$backdropModals","$ca787626673c6c13$var$modal","$ca787626673c6c13$var$btnCloses","$ca787626673c6c13$var$modalCont","$ca787626673c6c13$export$2e2bcd8739ae039","filmArr","$d72c37e64b088d5a$var$galleryConteiner","$d72c37e64b088d5a$export$2e2bcd8739ae039","markupStorage","$f44cb65843a8191d$var$ADD_WATCH","$b18fd23e9761f35d$var$form","$b18fd23e9761f35d$var$btnHome","contains","event","preventDefault","elements","search","anyText","searchApi","storageJsonWatch","btnWatched","setAttribute","btnQueue","removeAttribute","storageJsonQueue"],"version":3,"file":"index.aa64cdfc.js.map"}